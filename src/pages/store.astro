---
import ProductCard from "@/components/ProductCard.astro";
import Layout from "@/layouts/Layout.astro";

interface Rating {
  rate: number;
  count: number
}
export interface Product {
  id: number;
  title: string;
  price: number;
  description: string;
  category: string;
  image: string;
  rating: Rating;
}
const response = await fetch('https://fakestoreapi.com/products')
const products: Product[] = await response.json()
---

<Layout title="Store">
  <div class="flex flex-col justify-center items-center gap-4 mt-4">
    <h1 class="text-5xl text-white underline">Perfect Store</h1>
    <div class="grid grid-cols-3 gap-4 m-12">
    {products.map(product => {
      return <ProductCard product={product} />
    })}</div>
  </div>
</Layout>
